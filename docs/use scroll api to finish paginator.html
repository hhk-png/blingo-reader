<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>use scroll api to finish paginator</title>
  <style>
    * {
      padding: 0;
      margin: 0;
    }

    .ebook {
      box-sizing: border-box;
      column-count: 2;
      column-gap: 20px;
      column-fill: auto;
      height: 100vh;
      overflow: hidden;
      overflow-wrap: break-word;
      padding-left: 20px;
      padding-right: 20px;
      padding-top: 20px;
    }
  </style>
</head>

<body>
  <button style="position: fixed; left: 0;" class="prevPage">prev</button>
  <button style="position: fixed; left: 50px;" class="nextPage">next</button>
  <div class="ebook">
    <div class="outer">
      <h1>电子书标题</h1>
      <p>
        金大鑫不再言语，只是怔怔地看着万淼淼，仿佛她在说一个不相干的人。

        “对不起，我说多了！”万淼淼起身拿起遥控器，选了一首《可可托海的牧羊人》，忧伤凄美的旋律瞬间充盈到船舱里。“那夜的雨，也没能留住你/山谷的风，它陪着我哭泣……”万淼淼闭上眼睛，随着旋律轻轻摇晃起来……金大鑫对这首歌没什么感觉，他认为，歌者完全是无病呻吟，天下美女多的是，犯得着这样要死要活吗？在万淼淼闭眼沉醉时，他反而从刚才被质疑的尴尬中缓过气来。他捏起高脚杯凑近自己的鼻孔嗅了嗅，又轻轻放下杯子。

        “除了刚才讲的两个问题，你们对运亨集团的估值也严重误判！”万淼淼没等歌曲唱完，便“啪”地一下关掉音响，目光炯炯地看着金大鑫说，“据我了解，你们2019年刚开始与运亨集团接触时，给他们的估值是172亿元。2020年5月，你们以43.86亿元收购对方51%的股权时，给他们的估值仅有86亿元，是一年前估值的一半。请问你是不是认为这个估值很划算呢？”

        “当然。不到一年估值就少了一半，这不划算，什么划算？”金大鑫甚至有些得意起来，仿佛捡到了一个天大的便宜。

        万淼淼看了他一眼，悠悠地问：“运亨集团的资产主要是收租物业，请问它2020年的租金收入总共有多少？”

        “将近2.9亿元吧。”金大鑫答道。

        “好，就算2.9亿元，它们的收租物业账面价值是多少？”万淼淼又问。

        “大概293亿元。”金大鑫答。

        “293亿元的收租物业仅仅收到2.9亿元的租金，投资回报率只有1%，你不感觉这个投资回报率太低了吗？”

        “的确有点低。”

        “是的，正常情况下，投资回报率至少应该达到5%。而对应5%的投资回报率，资产价值只需60亿元左右。这就是说，运亨集团把投资性房产作价太高了，整整高了233亿元。按此计算，运亨集团不仅不值86亿元，反而已经是负资产了！你们花86亿元，买了一堆负资产，难怪不到一年的功夫就亏损80多亿元呢！”

        万淼淼的话句句在理，却又句句扎心。金大鑫的脸色不由得红一阵白一阵来回变幻起来。“我还没有答应与你相处，你就这样挑我毛病，要是真把你娶过来了，那还不天天挨你训啊？！”他恼怒地在心里盘算着如何快速结束对话，在情绪上自然就流露出厌倦之意。

        “你好像不太愿意听我说话！”敏感的万淼淼毫不客气地说。 </p>
      <p>
        项目之后，金宏远又开始把区域公司的总经理交给他。几个区域轮换一遍以后，金宏远才把他调至集团公司，任董事、副总经理。金大鑫对父亲的安排表现得非常配合，每个岗位也都干得可圈可点。这在很多“创二代”抵触接班的大背景下显得非常难得，也令金宏远非常满意，便有意无意提高了对金大鑫的授权。2018年底，37岁的金大鑫被父亲进一步推到金氏地产集团常务副总裁的位子上。金宏远虽说仍然担任董事长兼总裁，却把更多的决策权交给了儿子，他自己则将更多的精力转到交友、养生和战略方向的把控上来。金大鑫深知父亲对自己寄予厚望，加之其父一路扶持他往上走，也让当初与金宏远一起创业的老人们多少有些不爽。于是，他暗下决心，一定要在尽可能短的时间内，做件令众人侧目的大事，以稳固确立自己的接班人地位。恰在这个时候，他父亲的老朋友石运亨因为自己公司资金链紧张找上门来。

        石运亨是某二线房企运亨地产的掌门人。在20世纪90年代末，石运亨抓住西部大开发的机会，投资2.2亿元在山城羽西打造了首个商业地产项目，从此一举成名。此后，他乘胜追击，又连续开发了多个高端商业和住宅地产项目，不仅在21世纪初的房地产大发展中赚得钵满盆满，还挤进中国房企TOP30的豪华阵营，一时风光无限。然而快速的成功也滋生了石运亨的骄横之气，他不仅在拿地中高举高打、出手阔绰，也在市场竞争中风格凌厉，霸气侧漏。因此，得罪了不少业内同行和普通百姓。不过，这些暂时没有影响到石运亨的事业发展。他常常拿自己的名字说事，说自己红运亨通，这是命中注定了的事情，任何人都别想挡住他通往财富金字塔顶端的道路。

        自2014年起，石运亨不知搭错了哪根神经，竟意气风发地提出战略转型的宏大目标，正式进军产业地产，试图以科技园建设与管理为基础，向长租公寓和特色小镇开发全面转型，希望经过5年的发展，到2020年时，集团销售收入超千亿，税后利润超百亿。然而事与愿违。由于他要做的这些都属于前期投资大、回报周期长的业务，运亨集团本来还算殷实的家底对支撑他超级宏大的目标越来越显得力不从心，资金链越绷越紧，随时有断裂的可能。此后，仅用三四年的工夫，运亨集团的营业收入就从2014年的200多亿元一路下滑到2018年的不足80亿元。很多核心人员陆续出走，公司经营每况愈下，融资能力降至冰点。为破困局，石运亨耗资20亿元，试图出手收购一家ST公司，却终因这家ST公司的股份被冻结而宣告失败。在巨大的压力之下，石运亨四处求援，并找到了老朋友金宏远。金大鑫得知此事后，心中大喜，认为这是他出任常务副总裁以来树立权威的良机，于是，踌躇满志地主导了金氏集团对运亨集团的债务重组工作，并最终把金氏集团也拖入了泥沼……

        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
      </p>
      <p>
        项目之后，金宏远又开始把区域公司的总经理交给他。几个区域轮换一遍以后，金宏远才把他调至集团公司，任董事、副总经理。金大鑫对父亲的安排表现得非常配合，每个岗位也都干得可圈可点。这在很多“创二代”抵触接班的大背景下显得非常难得，也令金宏远非常满意，便有意无意提高了对金大鑫的授权。2018年底，37岁的金大鑫被父亲进一步推到金氏地产集团常务副总裁的位子上。金宏远虽说仍然担任董事长兼总裁，却把更多的决策权交给了儿子，他自己则将更多的精力转到交友、养生和战略方向的把控上来。金大鑫深知父亲对自己寄予厚望，加之其父一路扶持他往上走，也让当初与金宏远一起创业的老人们多少有些不爽。于是，他暗下决心，一定要在尽可能短的时间内，做件令众人侧目的大事，以稳固确立自己的接班人地位。恰在这个时候，他父亲的老朋友石运亨因为自己公司资金链紧张找上门来。

        石运亨是某二线房企运亨地产的掌门人。在20世纪90年代末，石运亨抓住西部大开发的机会，投资2.2亿元在山城羽西打造了首个商业地产项目，从此一举成名。此后，他乘胜追击，又连续开发了多个高端商业和住宅地产项目，不仅在21世纪初的房地产大发展中赚得钵满盆满，还挤进中国房企TOP30的豪华阵营，一时风光无限。然而快速的成功也滋生了石运亨的骄横之气，他不仅在拿地中高举高打、出手阔绰，也在市场竞争中风格凌厉，霸气侧漏。因此，得罪了不少业内同行和普通百姓。不过，这些暂时没有影响到石运亨的事业发展。他常常拿自己的名字说事，说自己红运亨通，这是命中注定了的事情，任何人都别想挡住他通往财富金字塔顶端的道路。

        自2014年起，石运亨不知搭错了哪根神经，竟意气风发地提出战略转型的宏大目标，正式进军产业地产，试图以科技园建设与管理为基础，向长租公寓和特色小镇开发全面转型，希望经过5年的发展，到2020年时，集团销售收入超千亿，税后利润超百亿。然而事与愿违。由于他要做的这些都属于前期投资大、回报周期长的业务，运亨集团本来还算殷实的家底对支撑他超级宏大的目标越来越显得力不从心，资金链越绷越紧，随时有断裂的可能。此后，仅用三四年的工夫，运亨集团的营业收入就从2014年的200多亿元一路下滑到2018年的不足80亿元。很多核心人员陆续出走，公司经营每况愈下，融资能力降至冰点。为破困局，石运亨耗资20亿元，试图出手收购一家ST公司，却终因这家ST公司的股份被冻结而宣告失败。在巨大的压力之下，石运亨四处求援，并找到了老朋友金宏远。金大鑫得知此事后，心中大喜，认为这是他出任常务副总裁以来树立权威的良机，于是，踌躇满志地主导了金氏集团对运亨集团的债务重组工作，并最终把金氏集团也拖入了泥沼……

        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实。
        “你怎么不说话呢？”正陷入沉思的金大鑫被万淼淼的一句问话拉回到现实
        “你怎么不说话呢？？
      </p>


    </div>
    <!-- placeholder for making sure the scrolling logic working as expected -->
    <div style="width: 100%; height: 100%; background-color: aqua;"></div>
  </div>


  <script>
    const ebook = document.querySelector('.ebook')
    // const outer = document.querySelector('.outer')
    const nextPage = document.querySelector('.nextPage')
    const prevPage = document.querySelector('.prevPage')
    const ebookWidth = ebook.getBoundingClientRect().width

    // !!! width + gap - padding
    const delta = ebookWidth + 20 - 20 - 20
    const scrollWidth = ebook.scrollWidth


    let pageIndex = 0
    const pageCount = Math.floor(scrollWidth / delta)
    console.log(pageCount)


    nextPage.addEventListener('click', () => {
      if (pageIndex < pageCount - 1) {
        pageIndex++
        ebook.scrollTo({
          top: 0,
          left: pageIndex * delta,
        })
      }
    })

    prevPage.addEventListener('click', () => {
      if (pageIndex > 0) {
        pageIndex--
        ebook.scrollTo({
          top: 0,
          left: pageIndex * delta,
        })
      }
    })

  </script>
</body>

</html>